$(document).ready(function(){$(".editGrade").each(function(){$(this).click(function(){var a=$(this).attr("gradeId");$(".inFormChange").each(function(){if($(this).attr("gradeId")==a){var c=$(this).html();var d=$(this).attr("class");if($(this).hasClass("titleChange")){$(this).html("<input type='text' gradeId='"+a+"' class='"+d+" form-control' value='"+c+"' required/>")}else{var b=c.replace(/[^0-9\.]/g,"");$(this).html("<input type='number' gradeId='"+a+"' class='"+d+" form-control' value='"+b+"' required/>")}}});$(this).removeClass("fa-pencil").addClass("fa-floppy-o");$(this).click(function(){var d,c,b;$(".inFormChange").each(function(){if($(this).attr("gradeId")==a){if($(this).hasClass("titleChange")){d=$(this).val()}else{if($(this).hasClass("gradeChange")){c=$(this).val()}else{if($(this).hasClass("weightChange")){b=$(this).val()}}}}});alert(d+c+b);$.ajax({method:"POST",url:"./modul/noten/modify.php",data:{todo:"editGradeInForm",gradeId:a,title:d,weight:b,grade:c},success:function(e){if(e){$("#errorText").html(e);$("#errorAlert").slideDown("fast")}else{$("#successText").html(translate[103]);$("#successAlert").slideDown("fast").delay(1300).slideUp("slow",function(){})}}})})})});$(".corrSubAvg").each(function(){$(this).click(function(){$(this).prop("disabled",true);var b=$(this);var a=$(this).attr("subjid");$(".corrSubAvgNum").each(function(){if($(this).attr("subjid")==a){var c=$(this).val();$.ajax({method:"POST",url:"./modul/noten/modify.php",data:{todo:"correction",subid:a,corrGrade:c},success:function(d){if(d){$("#errorText").html(d);$("#errorAlert").slideDown("fast");b.prop("disabled",false)}else{b.prop("disabled",false);$("#successText").html(translate[101]);$("#successAlert").slideDown("fast").delay(1300).slideUp("slow");$(".subAvg").each(function(){if($(this).attr("subjid")==a){var f=$(this).html();var e="<s>"+f+"</s> <b style='color:red'>"+c+"</b>";$(this).html(e)}})}}})}})})});$(".userGradesHead").each(function(){$(this).click(function(){var a=$(this).attr("containerID");$(".detailedGrades").each(function(){if($(this).attr("containerID")==a){$(this).slideToggle("slow")}})})});$(".btnSelect").each(function(){$(this).click(function(){var a=$(this);$(".btnSelect").each(function(){$(this).removeClass("btn-success",1000);$(this).removeClass("selectedType")});$(a).addClass("btn-success",1000);$(a).addClass("selectedType")})});$(".addGrade").each(function(){$(this).click(function(){$("#errorAlert").slideUp("fast");$(".addGrade").each(function(){$(this).prop("disabled",true)});var c=$(this).attr("fSubject");var b,f,e,d;var a="";$(".fgradeTitle").each(function(){if($(this).attr("fSubject")==c){f=$(this).val()}});$(".fgradeNote").each(function(){if($(this).attr("fSubject")==c){e=$(this).val()}});$(".fgradeWeight").each(function(){if($(this).attr("fSubject")==c){b=$(this).val()}});$(".fgradeReason").each(function(){if($(this).attr("fSubject")==c){d=$(this).val()}});if(!b){a=a+"<li>"+translate[173]+"</li>"}if(!f){a=a+"<li>"+translate[172]+"</li>"}if(!e){a=a+"<li>"+translate[171]+"</li>"}if(e<4&&!d){a=a+"<li>"+translate[174]+"</li>"}if(a){$("#errorText").html(a);$("#errorAlert").slideDown("fast");$(".addGrade").each(function(){$(this).prop("disabled",false)})}else{$("#errorAlert").slideUp("fast");$.ajax({method:"POST",url:"./modul/noten/modify.php",data:{todo:"addGrade",grade:e,title:f,weight:b,subjectId:c,reason:d},success:function(g){if(g){$("#errorText").html(g);$("#errorAlert").slideDown("fast");$(".addGrade").each(function(){$(this).prop("disabled",false)})}else{$("#successText").html(translate[103]);$("#successAlert").slideDown("fast").delay(1300).slideUp("slow",function(){$("#pageContent").load("modul/noten/noten.php",function(){$(".loadScreen").fadeTo("fast",0,function(){$("#pageContents").fadeTo("fast",1)})})})}}})}})});$(".divtoggler").each(function(){$(this).click(function(){var a=$(this).attr("subSemid");$(".divtogglercontent").each(function(){if($(this).attr("subSemid")==a){$(this).slideToggle("fast")}})})});$(".delGrade").each(function(){$(this).click(function(){var a=$(this).attr("gradeId");if(!a){$("#errorText").html(translate[95]);$("#errorAlert").slideDown("fast")}else{$.ajax({method:"POST",url:"./modul/noten/modify.php",data:{todo:"deleteGrade",gradeId:a},success:function(b){if(b){$("#errorText").html(b);$("#errorAlert").slideDown("fast")}else{$(".gradeEntry").each(function(){if($(this).attr("gradeId")==a){$(this).slideUp("slow",function(){$("#pageContent").load("modul/noten/noten.php",function(){$(".loadScreen").fadeTo("fast",0,function(){$("#pageContents").fadeTo("fast",1)})})})}})}}})}})});$("#addSubject").click(function(){$("#errorForm").html(b).slideUp("fast");$("#addSubject").prop("disabled",true);var b="";var d=$("#newSubNam").val();var a=$("#newSubSem").val();var e=1;if($("#LIT").length){var c=0;$(".selectedType").each(function(){c=c+1});if(c==1){e=$(".selectedType").attr("value")}else{b=b+"<li>"+translate[195]+"</li>"}}if(!d){b=b+"<li>"+translate[196]+"</li>"}if(!a||a=="Semester:"){b=b+"<li>"+translate[197]+"</li>"}if(b){$("#errorText").html(b);$("#errorAlert").slideDown("fast");$("#addSubject").prop("disabled",false)}else{$("#errorAlert").slideUp("fast");$.ajax({method:"POST",url:"./modul/noten/modify.php",data:{todo:"addSubject",subName:d,subSem:a,subType:e},success:function(f){if(f){$("#errorText").html(f);$("#errorAlert").slideDown("fast");$("#addSubject").prop("disabled",false)}else{$("#successText").html(translate[175]);$("#successAlert").slideDown("fast").delay(1300).slideUp("slow",function(){$("#pageContent").load("modul/noten/noten.php",function(){$(".loadScreen").fadeTo("fast",0,function(){$("#pageContents").fadeTo("fast",1)})})})}}})}});$(".deleteSubject").each(function(){$(this).click(function(a){object=$(this);a.preventDefault();$("#warningText").html(translate[162]);$("#warningAlert").slideDown("fast");$("#warningButton").slideDown("fast");$("#warningButton").click(function(c){c.preventDefault();var b=object.attr("subjectId");if(!b){$("#errorText").html(translate[163]);$("#errorAlert").slideDown("fast")}else{$.ajax({method:"POST",url:"./modul/noten/modify.php",data:{todo:"deleteSubject",subId:b},success:function(d){if(d){$("#errorText").html(d);$("#errorAlert").slideDown("fast")}else{$("#warningAlert").slideUp("fast");$(".delSubTag").each(function(){if($(this).attr("fSubject")==b){$(this).slideUp("slow")}})}}})}})})});$(".fgradeNote").each(function(){$(this).keyup(function(){var a=$(this).attr("fSubject");if($(this).val()<=4&&$(this).val()){$(".badDay").each(function(){if($(this).attr("fSubject")==a){$(this).slideDown("slow")}})}else{$(".badDay").each(function(){if($(this).attr("fSubject")==a){$(this).slideUp("slow")}})}})});$(".contentToggler").each(function(){$(this).click(function(){var a=$(this).attr("semID");$(".toggleContent").each(function(){if($(this).attr("semID")==a){$(this).slideToggle("fast")}})})})});