$(document).ready(function(){function a(){var b=0;var e=0;$(".calcGradesForm").each(function(){if($(this).val()>=1&&$(this).val()<=6){e+=parseFloat($(this).val());b++}});if(b>0){var d=Math.round((e/b)*100)/100;var c=Math.round(((d-1)*10.8)*100)/100;$("#calcResult").html("<b>"+d+" = "+c+" "+translate[67]+" <b>")}else{$("#calcResult").html(translate[171])}}$("#calcGradesBtn").click(function(b){b.preventDefault();a()});$(".calcGradesForm").each(function(){$(this).on("keyup",function(){a()})});$(".checkEntry").each(function(){$(this).click(function(b){b.preventDefault();$("#checkEntryForm").slideDown("fast",function(){$("html, body").animate({scrollTop:$(document).height()-$(window).height()},500,"swing")});$("#fcheckEntryPoints").val($(this).attr("entryPoints"));$("#fcheckEntryLL").val($(this).attr("entryLL"));$("#fsend").attr("entryID",$(this).attr("entryID"));$("#fsendAndDelete").attr("entryID",$(this).attr("entryID"))})});$("#fsend").click(function(c){c.preventDefault();var d=$("#fcheckEntryReason").val();var b=$(this).attr("entryID");if(!d){$("#errorText").html(translate[146]);$("#errorAlert").slideDown("fast")}else{$("#fsendAndDelete").prop("disabled",true);$(this).prop("disabled",true);$("#errorAlert").slideUp("fast");$.ajax({method:"POST",url:"./modul/als/modify.php",data:{todo:"check",entryID:b,reason:d},success:function(e){if(e){$("#errorText").html(e);$("#errorAlert").slideDown("fast")}else{$("#checkEntryForm").slideUp("slow",function(){$("#fcheckEntryLL").val("");$("#fcheckEntryReason").val("");$("#fcheckEntryPoints").val("");$("#fsend").prop("disabled",false);$("#fsendAndDelete").prop("disabled",false);$("#successText").html(translate[147]);$("#successAlert").slideDown("fast").delay(1300).slideUp("slow")})}}})}});$("#fsendAndDelete").click(function(b){b.preventDefault();$("#errorAlert").slideUp("fast");$(this).html(translate[148]).removeClass("btn-danger").addClass("btn-warning");$(this).click(function(){$(this).prop("disabled",true);var d=$("#fcheckEntryReason").val();var c=$(this).attr("entryID");if(!d){$(this).prop("disabled",false);$("#errorText").html(translate[146]);$("#errorAlert").slideDown("fast")}else{$("#fsend").prop("disabled",true);$(this).prop("disabled",true);var d=$("#fcheckEntryReason").val();var c=$(this).attr("entryID");$.ajax({method:"POST",url:"./modul/als/modify.php",data:{todo:"checkAndDelete",entryID:c,reason:d},success:function(e){if(e){$("#errorText").html(e);$("#errorAlert").slideDown("fast")}else{$("#checkEntryForm").slideUp("slow",function(){$("#fcheckEntryLL").val("");$("#fcheckEntryReason").val("");$("#fcheckEntryPoints").val("");$("#successText").html(translate[149]);$("#successAlert").slideDown("fast").delay(1300).slideUp("fast",function(){$("#pageContent").load("modul/als/als.php",function(){$(".loadScreen").fadeTo("fast",0,function(){$("#pageContents").fadeTo("fast",1)})})})})}}})}})});$("#finterrupt").click(function(){$("#checkEntryForm").slideUp("fast")});$("#addNewEntryButton").click(function(d){$(this).prop("disabled",true);d.preventDefault();$("#errorAlert").slideUp("fast");var c="";var b=$("#fTitle").val();var e=$("#fPoints").val();var f=$("#fSem").val();if(!f){c=c+"<li>"+translate[150]+"</li>"}if(!b){c=c+"<li>"+translate[151]+"</li>"}if(!e){c=c+"<li>"+translate[152]+"</li>"}if(c){$("#errorText").html(c);$("#errorAlert").slideDown("fast");$(this).prop("disabled",false)}else{$("#warningText").html(translate[93]);$("#warningAlert").slideDown("fast");$("#warningButton").slideDown("fast");$("#warningButton").click(function(i){i.preventDefault();$(this).prop("disabled",true);var h="";var g=$("#fTitle").val();var j=$("#fPoints").val();var k=$("#fSem").val();if(!k){h=h+"<li>"+translate[150]+"</li>"}if(!g){h=h+"<li>"+translate[151]+"</li>"}if(!j){h=h+"<li>"+translate[152]+"</li>"}if(h){$("#errorText").html(h);$("#errorAlert").slideDown("fast");$("#warningButton").prop("disabled",false)}else{$("#warningAlert").slideUp("fast");$.ajax({method:"POST",url:"./modul/als/modify.php",data:{todo:"addEntry",fTitle:g,fpoints:j,fsem:k,perf:0},success:function(l){if(l){$("#errorText").html(l);$("#errorAlert").slideDown("fast");$("#warningButton").prop("disabled",false)}else{$("#fTitle").val("");$("#fPoints").val("");$("#warningButton").prop("disabled",false);$("#successText").html(translate[103]);$("#successAlert").slideDown("fast").delay(1300).slideUp("fast",function(){$("#pageContent").load("modul/als/als.php",function(){$(".loadScreen").fadeTo("fast",0,function(){$("#pageContents").fadeTo("fast",1)})})})}}})}})}});$("#addNewEntryButtonPerf").click(function(d){$(this).prop("disabled",true);d.preventDefault();$("#errorAlert").slideUp("fast");var c="";var b=$("#fTitlePerf").val();var e=$("#fPointsPerf").val();var f=$("#fSemPerf").val();if(!f){c=c+"<li>"+translate[150]+"</li>"}if(!b){c=c+"<li>"+translate[151]+"</li>"}if(!e){c=c+"<li>"+translate[152]+"</li>"}if(c){$("#errorText").html(c);$("#errorAlert").slideDown("fast");$(this).prop("disabled",false)}else{$("#warningText").html(translate[93]);$("#warningAlert").slideDown("fast");$("#warningButton").slideDown("fast");$("#warningButton").click(function(i){i.preventDefault();$("#warningButton").prop("disabled",true);var h="";var g=$("#fTitlePerf").val();var j=$("#fPointsPerf").val();var k=$("#fSemPerf").val();if(!k){h=h+"<li>"+translate[150]+"</li>"}if(!g){h=h+"<li>"+translate[151]+"</li>"}if(!j){h=h+"<li>"+translate[152]+"</li>"}if(h){$("#errorText").html(h);$("#errorAlert").slideDown("fast");$("#warningButton").prop("disabled",false)}else{$("#warningAlert").slideUp("fast");$.ajax({method:"POST",url:"./modul/als/modify.php",data:{todo:"addEntry",fTitle:g,fpoints:j,fsem:k,perf:1},success:function(l){if(l){$("#errorText").html(l);$("#errorAlert").slideDown("fast")}else{$("#fTitlePerf").val("");$("#fPointsPerf").val("");$("#warningButton").prop("disabled",false);$("#successText").html(translate[103]);$("#successAlert").slideDown("fast").delay(1300).slideUp("fast",function(){$("#pageContent").load("modul/als/als.php",function(){$(".loadScreen").fadeTo("fast",0,function(){$("#pageContents").fadeTo("fast",1)})})})}}})}})}})});