$(document).ready(function(){$(".cycleChecker").each(function(){$(this).click(function(){var a=$(this).attr("userID");var b=$(this).find("input").attr("cycleID");if($(this).find("input").is(":checked")){$(this).find("input").prop("checked",false)}else{$(this).find("input").prop("checked",true)}$(".cycleChecker").each(function(){if($(this).attr("userID")==a){if($(this).find("input").attr("cycleID")!=b){$(this).find("input").prop("checked",false)}if($(this).hasClass("alert-warning")){$(this).removeClass("alert-warning")}}})})});$("#getCSV").click(function(){$(this).prop("disabled",true);$("#getCSVnotif").fadeIn("slow");var b=[];var a=setInterval(function(){$("#getCSVnotif").fadeOut("slow",function(){$("#getCSVnotif").fadeIn("slow")})},2000);$(".userEntry").each(function(){var d=$(this).attr("userID");var c=$(this).attr("bKey");$(".cycleChecker").each(function(){if($(this).attr("userID")==d&&$(this).find("input").prop("checked")){var e=$(this).find("input").attr("cycleID");b.push([c,d,e])}})});$.ajax({method:"POST",url:"./modul/leistungslohn/call/createCSV.php",data:{userArray:b},success:function(e){clearInterval(a);$("#getCSVnotif").fadeOut("fast");if(navigator.msSaveBlob){var c=new Blob([e],{type:"text/csv;charset=utf-8;"});navigator.msSaveBlob(c,"Eva-Generated Salarys.csv")}else{var d=document.createElement("a");if(d.download!==undefined){var d=document.createElement("a");d.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(e));d.setAttribute("download","Eva-Generated Salarys.csv");d.style.display="none";document.body.appendChild(d);d.click();document.body.removeChild(d)}}$("#getCSV").prop("disabled",false)}})})});