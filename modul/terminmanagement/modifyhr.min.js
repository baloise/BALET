function search(){var d,g,f,b,c,e;d=document.getElementById("searchInput");g=d.value.toUpperCase();f=document.getElementById("searchList");b=f.getElementsByClassName("searchRow");for(e=0;e<b.length;e++){c=b[e].getElementsByClassName("searchFor")[0];if(c.innerHTML.toUpperCase().indexOf(g)>-1){b[e].style.display=""}else{b[e].style.display="none"}}}function unCountSems(b,a,c,d){if(b&&a){$.ajax({method:"POST",url:"./modul/terminmanagement/modify.php",data:{todo:"unCount",semID:b,user:a,state:$(d).hasClass("alert-success")},success:function(e){if(e){$("#errorText").html(e);$("#errorAlert").slideDown("fast")}else{if($(d).hasClass("alert-success")){$(d).removeClass("alert-success")}else{$(d).addClass("alert-success")}}}})}else{$("#errorText").html(translate[157]);$("#errorAlert").slideDown("fast")}}$(document).ready(function(){$(".header").each(function(){$(this).click(function(){var e=$(this).attr("userID");$(".detailed").each(function(){if($(this).attr("userID")==e){$(this).slideToggle("fast")}else{$(this).slideUp("fast")}});$(".loadContent").each(function(){if($(this).attr("userId")==e){var f=$(this);if(f.attr("loaded")!=1){$.ajax({method:"POST",url:"./modul/terminmanagement/getDeadlines.php",data:{userid:e},success:function(g){if(g){f.slideUp("fast",function(){f.html(g);f.slideDown("fast")});f.attr("loaded","1")}else{f.html("<div class='col-12'> "+translate[157]+".</div>")}}})}}})})});var b;var d=0;var c=0;$(".deadlineHead").each(function(){$(this).click(function(){c=$(this).attr("did");$(".deadlineContent").each(function(){if($(this).attr("did")==c){$(this).slideToggle("fast")}else{$(this).slideUp("fast")}})})});$(".deadlineListToggler").each(function(){$(this).click(function(){var e=$(this).attr("semID");$(".deadlineList").each(function(){if($(this).attr("semID")==e){$(this).slideToggle("fast")}else{$(this).slideUp("fast")}})})});function a(){if($.active==0){$("#loadingTable"+c).slideUp("fast");$("#successText").html(translate[101]);$("#successAlert").slideDown("fast").delay(1300).slideUp("fast")}else{d=1}}$(document).ajaxStop(function(){if(d==1){$("#loadingTable").slideUp("fast");$("#successText").html(translate[101]);$("#successAlert").slideDown("fast").delay(1300).slideUp("fast")}});$(".changeInTable").each(function(){$(this).on("keyup change",function(){clearTimeout(b);c=$(this).attr("did");var g=$(this).attr("fType");var f=$(this).attr("lang");var e=$(this).val();$("#loadingTable"+c).slideDown("fast");if(c&&g){event.preventDefault();$.ajax({async:true,method:"POST",url:"./modul/terminmanagement/modify.php",data:{todo:"editList",did:c,fType:g,lang:f,content:e},success:function(h){if(h){$("#errorText").html(h);$("#errorAlert").slideDown("fast")}else{b=setTimeout(a,1000)}}})}})});$(".updateSems").each(function(){$(this).change(function(){var e=$(this).val();var f=$(this);c=$(this).attr("did");if(e){$.ajax({method:"POST",url:"./modul/terminmanagement/modify.php",data:{todo:"getSemester",selGroup:e},success:function(g){if(g){$(".inTableSelect").each(function(){if($(this).attr("did")==c){$(this).html(g).removeAttr("disabled")}})}else{$("#errorText").html(translate[158]);$("#errorAlert").slideDown("fast")}}})}else{$("#fsem").html("").attr("disabled",true)}})});$("#addNewdid").click(function(){$(this).prop("disabled",true);$("#errorAlert").slideUp("fast");var h=$("#fTitle_de").val();var g=$("#fTitle_fr").val();var e=$("#fTitle_it").val();var f=$("#fDescription_de").val();var m=$("#fDescription_fr").val();var j=$("#fDescription_it").val();var l=$("#fDeadline").val();var k=$("#fSemester").val();var i="";if(!l){i=i+"<li>"+translate[179]+"</li>"}if(!k){i=i+"<li>"+translate[150]+"</li>"}if(i){$("#errorText").html(i);$("#errorAlert").slideDown("fast");$(this).prop("disabled",false)}else{$.ajax({method:"POST",url:"./modul/terminmanagement/modify.php",data:{todo:"addDid",title_de:h,title_fr:g,title_it:e,description_de:f,description_fr:m,description_it:j,deadline:l,semester:k},success:function(n){if(n){$("#addNewdid").prop("disabled",false);$("#errorText").html(n);$("#errorAlert").slideDown("fast")}else{$("#successText").html(translate[103]);$("#successAlert").slideDown("fast").delay(1300).slideUp("fast",function(){$("#pageContent").load("modul/terminmanagement/terminmanagement.php",function(){$(".loadScreen").fadeTo("fast",0,function(){$("#pageContents").fadeTo("fast",1)})})})}}})}});$(".removeDid").each(function(){$(this).click(function(){c=$(this).attr("did");$("#warningText").html("<strong>"+translate[122]+"</strong> "+translate[98]);$("#warningAlert").slideDown("fast");$("#warningButton").slideDown("fast");$("#warningButton").click(function(e){if(c){$(this).prop("disabled",true);e.preventDefault();$.ajax({method:"POST",url:"./modul/terminmanagement/modify.php",data:{todo:"deleteDid",did:c},success:function(f){if(f){}else{$(".rowID"+c).each(function(){$(this).slideUp("slow")});$("#warningAlert").slideUp("fast");$("#warningButton").prop("disabled",false)}}})}})})})});function modifyEntry(b,a,c){if(b&&a){if(c==0||c==2){$.ajax({method:"POST",url:"./modul/terminmanagement/modify.php",data:{todo:"addEntry",userid:a,deadlineid:b},success:function(d){if(d){$("#errorText").html(d);$("#errorAlert").slideDown("fast")}else{$(".deadline").each(function(){if($(this).attr("uid")==a&&$(this).attr("did")==b){$(this).removeClass("alert-danger").addClass("alert-success");$(this).attr("onclick","modifyEntry("+b+", "+a+", 1);")}})}}})}else{if(c==1){$.ajax({method:"POST",url:"./modul/terminmanagement/modify.php",data:{todo:"deleteEntry",userid:a,deadlineid:b},success:function(d){if(d){$("#errorText").html(d);$("#errorAlert").slideDown("fast")}else{$(".deadline").each(function(){if($(this).attr("uid")==a&&$(this).attr("did")==b){$(this).removeClass("alert-success");$(this).attr("onclick","modifyEntry("+b+", "+a+", 0);")}})}}})}else{$("#errorText").html(translate[95]);$("#errorAlert").slideDown("fast")}}}else{$("#errorText").html(translate[95]);$("#errorAlert").slideDown("fast")}}function expandDeadlines(b,a){$(".deadlineContent").each(function(){if($(this).attr("deadlineSemesterID")==b&&$(this).attr("userID")==a){$(this).slideToggle("fast")}else{$(this).slideUp("fast")}})}function unCountSem(b,a,c){$(".SemUncounter").each(function(){if($(this).attr("did")==b&&$(this).attr("userID")==a){var d=$(this);if(c==1){}else{}}})};